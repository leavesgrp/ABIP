\hypertarget{cs_8c_source}{}\doxysection{cs.\+c}
\label{cs_8c_source}\index{src/cs.c@{src/cs.c}}
\mbox{\hyperlink{cs_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{cs_8h}{cs.h}}"{}}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00002}00002 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{abip_8h}{abip.h}}"{}}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00003}00003 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00004}00004 \textcolor{comment}{/* NB: this is a subset of the routines in the CSPARSE package by Tim Davis et. al., for the full package please visit}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00005}00005 \textcolor{comment}{ * http://www.cise.ufl.edu/research/sparse/CSparse/ */}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00006}00006 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00007}00007 \textcolor{comment}{/* wrapper for free */}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00008}00008 \textcolor{keyword}{static} \textcolor{keywordtype}{void} *cs\_free}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00009}00009 (}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00010}00010       \textcolor{keywordtype}{void} *p}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00011}00011 ) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00012}00012 \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00013}00013       \textcolor{keywordflow}{if} (p) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00014}00014       \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00015}00015             \mbox{\hyperlink{glbopts_8h_a9284e3e2b6b1360ab920b37c3b5760d3}{abip\_free}}(p);              }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00016}00016       \}                  }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00017}00017       \textcolor{keywordflow}{return} (\mbox{\hyperlink{amd__global_8c_adae2a4e360bd77801ffccfc6288f97c5}{ABIP\_NULL}});       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00018}00018 \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00019}00019 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00020}00020 \textcolor{keyword}{static} \mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *cs\_done}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00021}00021 (}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00022}00022       \mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *C, }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00023}00023       \textcolor{keywordtype}{void} *w, }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00024}00024       \textcolor{keywordtype}{void} *\mbox{\hyperlink{abip__direct_8m_ac73bb3556c5c5226726efc502e9b544f}{x}}, }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00025}00025       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} ok}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00026}00026 ) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00027}00027 \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00028}00028       cs\_free(w);                                                     }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00029}00029       cs\_free(\mbox{\hyperlink{abip__direct_8m_ac73bb3556c5c5226726efc502e9b544f}{x}});}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00030}00030       \textcolor{keywordflow}{return} (ok ? C : \mbox{\hyperlink{glbopts_8h_a7aa92d3ed179f2b3cf7a45e28918267f}{ABIP}}(\mbox{\hyperlink{cs_8c_a346988833f616c482ab6cabdb89defca}{cs\_spfree}})(C));          }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00031}00031 \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00032}00032 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00033}\mbox{\hyperlink{cs_8h_affcbccdcf617ee47accc795922ecb79f}{00033}} \mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *\mbox{\hyperlink{glbopts_8h_a7aa92d3ed179f2b3cf7a45e28918267f}{ABIP}}(\mbox{\hyperlink{cs_8c_affcbccdcf617ee47accc795922ecb79f}{cs\_transpose}}) (\textcolor{keyword}{const} \mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *\mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}, \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} values)}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00034}00034 \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00035}00035     \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} p, q, j, *Cp, *Ci, n, m, *Ap, *Ai, *w ;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00036}00036     \mbox{\hyperlink{glbopts_8h_a821030b4c0b76c8ea69c6193548d126b}{abip\_float}} *Cx, *\mbox{\hyperlink{abip__direct_8m_a6f38c508d6eaa93690533c1e2af0443f}{Ax}} ;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00037}00037     \mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *C ;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00038}00038     m = \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>m ; n = \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>n ; Ap = \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>p ; Ai = \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>i ; \mbox{\hyperlink{abip__direct_8m_a6f38c508d6eaa93690533c1e2af0443f}{Ax}} = \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>x ;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00039}00039     C = \mbox{\hyperlink{glbopts_8h_a7aa92d3ed179f2b3cf7a45e28918267f}{ABIP}}(\mbox{\hyperlink{cs_8c_a9d109c20b96e5b73d84d6f552747067a}{cs\_spalloc}})(n, m, Ap [n], values \&\& \mbox{\hyperlink{abip__direct_8m_a6f38c508d6eaa93690533c1e2af0443f}{Ax}}, 0) ;       \textcolor{comment}{/* allocate result */}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00040}00040     w = \mbox{\hyperlink{glbopts_8h_ac0c98696c50539fe534f8a4bd7786528}{abip\_calloc}}(m, \textcolor{keyword}{sizeof} (\mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}})) ;                      \textcolor{comment}{/* get workspace */}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00041}00041     \textcolor{keywordflow}{if} (!C || !w) \textcolor{keywordflow}{return} (cs\_done (C, w, NULL, 0)) ;       \textcolor{comment}{/* out of memory */}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00042}00042     Cp = C-\/>p ; Ci = C-\/>i ; Cx = C-\/>x ;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00043}00043     \textcolor{keywordflow}{for} (p = 0 ; p < Ap [n] ; p++) w [Ai [p]]++ ;          \textcolor{comment}{/* row counts */}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00044}00044     \mbox{\hyperlink{glbopts_8h_a7aa92d3ed179f2b3cf7a45e28918267f}{ABIP}}(\mbox{\hyperlink{cs_8c_aaa0beb4f9c1a5394eb23b96c00a13097}{cs\_cumsum}}) (Cp, w, m) ;                                 \textcolor{comment}{/* row pointers */}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00045}00045     \textcolor{keywordflow}{for} (j = 0 ; j < n ; j++)}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00046}00046     \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00047}00047         \textcolor{keywordflow}{for} (p = Ap [j] ; p < Ap [j+1] ; p++)}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00048}00048         \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00049}00049             Ci [q = w [Ai [p]]++] = j ; \textcolor{comment}{/* place A(i,j) as entry C(j,i) */}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00050}00050             \textcolor{keywordflow}{if} (Cx) Cx [q] =  \mbox{\hyperlink{abip__direct_8m_a6f38c508d6eaa93690533c1e2af0443f}{Ax}} [p];}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00051}00051         \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00052}00052     \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00053}00053     \textcolor{keywordflow}{return} (cs\_done (C, w, NULL, 1)) ;  \textcolor{comment}{/* success; free w and return C */}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00054}00054 \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00055}00055 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00056}00056 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00057}\mbox{\hyperlink{cs_8h_a0067d5a454edd6a1b54951cb34ae4522}{00057}} \mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *\mbox{\hyperlink{glbopts_8h_a7aa92d3ed179f2b3cf7a45e28918267f}{ABIP}}(\mbox{\hyperlink{cs_8c_a0067d5a454edd6a1b54951cb34ae4522}{cs\_compress}})}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00058}00058 (}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00059}00059       \textcolor{keyword}{const} \mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *T}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00060}00060 ) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00061}00061 \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00062}00062       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} m; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00063}00063       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} n;  }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00064}00064       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} nnz;  }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00065}00065       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} p; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00066}00066       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} k; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00067}00067 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00068}00068       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *Cp;  }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00069}00069       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *Ci; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00070}00070       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *w; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00071}00071       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *Ti; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00072}00072       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *Tj;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00073}00073 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00074}00074       \mbox{\hyperlink{glbopts_8h_a821030b4c0b76c8ea69c6193548d126b}{abip\_float}} *Cx; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00075}00075       \mbox{\hyperlink{glbopts_8h_a821030b4c0b76c8ea69c6193548d126b}{abip\_float}} *Tx;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00076}00076       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00077}00077       \mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *C;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00078}00078       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00079}00079       m = T-\/>m;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00080}00080       n = T-\/>n;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00081}00081       Ti = T-\/>i;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00082}00082       Tj = T-\/>p;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00083}00083       Tx = T-\/>x;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00084}00084       nnz = T-\/>nnz;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00085}00085 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00086}00086       C = \mbox{\hyperlink{glbopts_8h_a7aa92d3ed179f2b3cf7a45e28918267f}{ABIP}}(\mbox{\hyperlink{cs_8c_a9d109c20b96e5b73d84d6f552747067a}{cs\_spalloc}})(m, n, nnz, Tx != \mbox{\hyperlink{amd__global_8c_adae2a4e360bd77801ffccfc6288f97c5}{ABIP\_NULL}}, 0);}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00087}00087       w = (\mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *) \mbox{\hyperlink{glbopts_8h_ac0c98696c50539fe534f8a4bd7786528}{abip\_calloc}}(n, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}}));}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00088}00088 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00089}00089       \textcolor{keywordflow}{if} (!C || !w) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00090}00090       \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00091}00091             \textcolor{keywordflow}{return} (cs\_done(C, w, \mbox{\hyperlink{amd__global_8c_adae2a4e360bd77801ffccfc6288f97c5}{ABIP\_NULL}}, 0));}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00092}00092       \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00093}00093 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00094}00094       Cp = C-\/>p;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00095}00095       Ci = C-\/>i;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00096}00096       Cx = C-\/>x;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00097}00097 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00098}00098       \textcolor{keywordflow}{for} (k = 0; k < nnz; k++)}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00099}00099       \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00100}00100             w[Tj[k]]++;                                              }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00101}00101       \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00102}00102 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00103}00103       \mbox{\hyperlink{glbopts_8h_a7aa92d3ed179f2b3cf7a45e28918267f}{ABIP}}(\mbox{\hyperlink{cs_8c_aaa0beb4f9c1a5394eb23b96c00a13097}{cs\_cumsum}})(Cp, w, n);                         }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00104}00104       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00105}00105       \textcolor{keywordflow}{for} (k = 0; k < nnz; k++) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00106}00106       \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00107}00107             Ci[p = w[Tj[k]]++] = Ti[k];                  }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00108}00108             \textcolor{keywordflow}{if} (Cx) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00109}00109             \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00110}00110                   Cx[p] = Tx[k];}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00111}00111             \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00112}00112       \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00113}00113 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00114}00114       \textcolor{keywordflow}{return} (cs\_done(C, w, \mbox{\hyperlink{amd__global_8c_adae2a4e360bd77801ffccfc6288f97c5}{ABIP\_NULL}}, 1));           }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00115}00115 \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00116}00116 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00117}\mbox{\hyperlink{cs_8h_a9d109c20b96e5b73d84d6f552747067a}{00117}} \mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *\mbox{\hyperlink{glbopts_8h_a7aa92d3ed179f2b3cf7a45e28918267f}{ABIP}}(\mbox{\hyperlink{cs_8c_a9d109c20b96e5b73d84d6f552747067a}{cs\_spalloc}})}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00118}00118 (}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00119}00119       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} m, }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00120}00120       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} n, }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00121}00121       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} nnzmax, }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00122}00122       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} values,}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00123}00123       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} triplet}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00124}00124 ) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00125}00125 \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00126}00126       \mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *\mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}} = (\mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *) \mbox{\hyperlink{glbopts_8h_ac0c98696c50539fe534f8a4bd7786528}{abip\_calloc}}(1, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}}));        }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00127}00127       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00128}00128       \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00129}00129               \textcolor{keywordflow}{return} (\mbox{\hyperlink{amd__global_8c_adae2a4e360bd77801ffccfc6288f97c5}{ABIP\_NULL}});}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00130}00130       \}                                                                       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00131}00131       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00132}00132       \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>m = m;                                                       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00133}00133       \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>n = n;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00134}00134       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00135}00135       \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>nnzmax = nnzmax = \mbox{\hyperlink{amd__internal_8h_afa99ec4acc4ecb2dc3c2d05da15d0e3f}{MAX}}(nnzmax, 1);}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00136}00136       \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>nnz = triplet ? 0 : -\/1;                                }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00137}00137       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00138}00138       \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>p = (\mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *) \mbox{\hyperlink{glbopts_8h_a016483b740c4496aabd3926bfefe686f}{abip\_malloc}}((triplet ? nnzmax : n + 1) * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}}));}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00139}00139       \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>i = (\mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *) \mbox{\hyperlink{glbopts_8h_a016483b740c4496aabd3926bfefe686f}{abip\_malloc}}(nnzmax * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}}));}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00140}00140       \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>x = values ? (\mbox{\hyperlink{glbopts_8h_a821030b4c0b76c8ea69c6193548d126b}{abip\_float}} *) \mbox{\hyperlink{glbopts_8h_a016483b740c4496aabd3926bfefe686f}{abip\_malloc}}(nnzmax * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{glbopts_8h_a821030b4c0b76c8ea69c6193548d126b}{abip\_float}})) : \mbox{\hyperlink{amd__global_8c_adae2a4e360bd77801ffccfc6288f97c5}{ABIP\_NULL}};}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00141}00141       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00142}00142       \textcolor{keywordflow}{return} ((!\mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>p || !\mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>i || (values \&\& !\mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>x)) ? \mbox{\hyperlink{glbopts_8h_a7aa92d3ed179f2b3cf7a45e28918267f}{ABIP}}(\mbox{\hyperlink{cs_8c_a346988833f616c482ab6cabdb89defca}{cs\_spfree}})(\mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}) : \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}});}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00143}00143 \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00144}00144 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00145}\mbox{\hyperlink{cs_8h_a346988833f616c482ab6cabdb89defca}{00145}} \mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *\mbox{\hyperlink{glbopts_8h_a7aa92d3ed179f2b3cf7a45e28918267f}{ABIP}}(\mbox{\hyperlink{cs_8c_a346988833f616c482ab6cabdb89defca}{cs\_spfree}})}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00146}00146 (}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00147}00147       \mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *\mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00148}00148 ) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00149}00149 \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00150}00150       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00151}00151       \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00152}00152             \textcolor{keywordflow}{return} (\mbox{\hyperlink{amd__global_8c_adae2a4e360bd77801ffccfc6288f97c5}{ABIP\_NULL}});}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00153}00153       \} }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00154}00154                                                                    }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00155}00155       cs\_free(\mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>p);}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00156}00156       cs\_free(\mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>i);}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00157}00157       cs\_free(\mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>x);}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00158}00158 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00159}00159       \textcolor{keywordflow}{return} ((\mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *)cs\_free(\mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}));                      }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00160}00160 \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00161}00161 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00162}\mbox{\hyperlink{cs_8h_aaa0beb4f9c1a5394eb23b96c00a13097}{00162}} \mbox{\hyperlink{glbopts_8h_a821030b4c0b76c8ea69c6193548d126b}{abip\_float}} \mbox{\hyperlink{glbopts_8h_a7aa92d3ed179f2b3cf7a45e28918267f}{ABIP}}(\mbox{\hyperlink{cs_8c_aaa0beb4f9c1a5394eb23b96c00a13097}{cs\_cumsum}})}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00163}00163 (}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00164}00164       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *p, }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00165}00165       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *\mbox{\hyperlink{abip__direct_8m_a5379398b9ffec817ff29d003b85cff31}{c}}, }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00166}00166       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} n}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00167}00167 ) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00168}00168 \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00169}00169       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} i; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00170}00170       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} nnz = 0;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00171}00171       \mbox{\hyperlink{glbopts_8h_a821030b4c0b76c8ea69c6193548d126b}{abip\_float}} nnz2 = 0;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00172}00172       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00173}00173       \textcolor{keywordflow}{if} (!p || !\mbox{\hyperlink{abip__direct_8m_a5379398b9ffec817ff29d003b85cff31}{c}}) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00174}00174       \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00175}00175             \textcolor{keywordflow}{return} (-\/1);}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00176}00176       \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00177}00177       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00178}00178       \textcolor{keywordflow}{for} (i = 0; i < n; i++) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00179}00179       \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00180}00180             p[i] = nnz;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00181}00181             nnz += \mbox{\hyperlink{abip__direct_8m_a5379398b9ffec817ff29d003b85cff31}{c}}[i];}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00182}00182             nnz2 += \mbox{\hyperlink{abip__direct_8m_a5379398b9ffec817ff29d003b85cff31}{c}}[i];                                                                    }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00183}00183             \mbox{\hyperlink{abip__direct_8m_a5379398b9ffec817ff29d003b85cff31}{c}}[i] = p[i];                                                                         }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00184}00184       \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00185}00185       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00186}00186       p[n] = nnz;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00187}00187       \textcolor{keywordflow}{return} (nnz2);                                                                         }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00188}00188 \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00189}00189 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00190}\mbox{\hyperlink{cs_8h_a4a9038a6c1ce2775bf14f8791104942f}{00190}} \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *\mbox{\hyperlink{glbopts_8h_a7aa92d3ed179f2b3cf7a45e28918267f}{ABIP}}(\mbox{\hyperlink{cs_8c_a4a9038a6c1ce2775bf14f8791104942f}{cs\_pinv}})}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00191}00191 (}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00192}00192       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} \textcolor{keyword}{const} *p, }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00193}00193       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} n}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00194}00194 ) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00195}00195 \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00196}00196       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} k; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00197}00197       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *pinv;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00198}00198       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00199}00199       \textcolor{keywordflow}{if} (!p) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00200}00200       \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00201}00201             \textcolor{keywordflow}{return} (\mbox{\hyperlink{amd__global_8c_adae2a4e360bd77801ffccfc6288f97c5}{ABIP\_NULL}});}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00202}00202       \}                                                                                               }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00203}00203 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00204}00204       pinv = (\mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *)\mbox{\hyperlink{glbopts_8h_a016483b740c4496aabd3926bfefe686f}{abip\_malloc}}(n * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}}));            }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00205}00205       \textcolor{keywordflow}{if} (!pinv) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00206}00206       \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00207}00207             \textcolor{keywordflow}{return} (\mbox{\hyperlink{amd__global_8c_adae2a4e360bd77801ffccfc6288f97c5}{ABIP\_NULL}});}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00208}00208       \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00209}00209       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00210}00210       \textcolor{keywordflow}{for} (k = 0; k < n; k++)}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00211}00211       \{ }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00212}00212             pinv[p[k]] = k;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00213}00213       \}     }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00214}00214            }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00215}00215       \textcolor{keywordflow}{return} (pinv); }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00216}00216 \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00217}00217 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00218}\mbox{\hyperlink{cs_8h_a0d41e4df716c34cad926f66392344719}{00218}} \mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *\mbox{\hyperlink{glbopts_8h_a7aa92d3ed179f2b3cf7a45e28918267f}{ABIP}}(\mbox{\hyperlink{cs_8c_a0d41e4df716c34cad926f66392344719}{cs\_symperm}})}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00219}00219 (}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00220}00220       \textcolor{keyword}{const} \mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *\mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}, }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00221}00221       \textcolor{keyword}{const} \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *pinv, }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00222}00222       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} values}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00223}00223 ) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00224}00224 \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00225}00225       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} i;  }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00226}00226       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} j; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00227}00227       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} p; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00228}00228       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} q;  }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00229}00229       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} i2;  }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00230}00230       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} j2; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00231}00231       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} n; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00232}00232       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *Ap; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00233}00233       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *Ai; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00234}00234       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *Cp; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00235}00235       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *Ci; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00236}00236       \mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *w;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00237}00237 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00238}00238       \mbox{\hyperlink{glbopts_8h_a821030b4c0b76c8ea69c6193548d126b}{abip\_float}} *Cx; }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00239}00239       \mbox{\hyperlink{glbopts_8h_a821030b4c0b76c8ea69c6193548d126b}{abip\_float}} *\mbox{\hyperlink{abip__direct_8m_a6f38c508d6eaa93690533c1e2af0443f}{Ax}};}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00240}00240       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00241}00241       \mbox{\hyperlink{cs_8h_ac071bd38e4c31ed73ec02faa32b52e4a}{cs}} *C;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00242}00242       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00243}00243       n = \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>n;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00244}00244       Ap = \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>p;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00245}00245       Ai = \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>i;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00246}00246       \mbox{\hyperlink{abip__direct_8m_a6f38c508d6eaa93690533c1e2af0443f}{Ax}} = \mbox{\hyperlink{abip__direct_8m_a505587068efcde0cc482e8c40e756ede}{A}}-\/>x;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00247}00247       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00248}00248       C = \mbox{\hyperlink{glbopts_8h_a7aa92d3ed179f2b3cf7a45e28918267f}{ABIP}}(\mbox{\hyperlink{cs_8c_a9d109c20b96e5b73d84d6f552747067a}{cs\_spalloc}})(n, n, Ap[n], values \&\& (\mbox{\hyperlink{abip__direct_8m_a6f38c508d6eaa93690533c1e2af0443f}{Ax}} != \mbox{\hyperlink{amd__global_8c_adae2a4e360bd77801ffccfc6288f97c5}{ABIP\_NULL}}), 0);                }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00249}00249       w = (\mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}} *) \mbox{\hyperlink{glbopts_8h_ac0c98696c50539fe534f8a4bd7786528}{abip\_calloc}}(n, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{glbopts_8h_aace05daf91e2aee26c134253e4053350}{abip\_int}}));                                                  }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00250}00250       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00251}00251       \textcolor{keywordflow}{if} (!C || !w) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00252}00252       \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00253}00253             \textcolor{keywordflow}{return} (cs\_done(C, w, \mbox{\hyperlink{amd__global_8c_adae2a4e360bd77801ffccfc6288f97c5}{ABIP\_NULL}}, 0));}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00254}00254       \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00255}00255       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00256}00256       Cp = C-\/>p;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00257}00257       Ci = C-\/>i;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00258}00258       Cx = C-\/>x;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00259}00259       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00260}00260       \textcolor{keywordflow}{for} (j = 0; j < n; j++)                                       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00261}00261       \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00262}00262             j2 = pinv ? pinv[j] : j;                                 }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00263}00263             }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00264}00264             \textcolor{keywordflow}{for} (p = Ap[j]; p < Ap[j + 1]; p++) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00265}00265             \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00266}00266                    i = Ai[p];}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00267}00267                    \textcolor{keywordflow}{if} (i > j) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00268}00268                    \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00269}00269                          \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00270}00270                    \} }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00271}00271                    i2 = pinv ? pinv[i] : i;                                                          }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00272}00272                    w[\mbox{\hyperlink{amd__internal_8h_afa99ec4acc4ecb2dc3c2d05da15d0e3f}{MAX}}(i2, j2)]++;}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00273}00273             \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00274}00274       \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00275}00275       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00276}00276       \mbox{\hyperlink{glbopts_8h_a7aa92d3ed179f2b3cf7a45e28918267f}{ABIP}}(\mbox{\hyperlink{cs_8c_aaa0beb4f9c1a5394eb23b96c00a13097}{cs\_cumsum}})(Cp, w, n);                              }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00277}00277       }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00278}00278       \textcolor{keywordflow}{for} (j = 0; j < n; j++) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00279}00279       \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00280}00280             j2 = pinv ? pinv[j] : j;                                  }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00281}00281             }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00282}00282             \textcolor{keywordflow}{for} (p = Ap[j]; p < Ap[j + 1]; p++) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00283}00283             \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00284}00284                    i = Ai[p];}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00285}00285                    }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00286}00286                    \textcolor{keywordflow}{if} (i > j) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00287}00287                    \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00288}00288                          \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00289}00289                    \}                                                             }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00290}00290                    }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00291}00291                    i2 = pinv ? pinv[i] : i;                            }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00292}00292                    Ci[q = w[\mbox{\hyperlink{amd__internal_8h_afa99ec4acc4ecb2dc3c2d05da15d0e3f}{MAX}}(i2, j2)]++] = \mbox{\hyperlink{amd__internal_8h_a3acffbd305ee72dcd4593c0d8af64a4f}{MIN}}(i2, j2);}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00293}00293                    }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00294}00294                    \textcolor{keywordflow}{if} (Cx) }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00295}00295                    \{}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00296}00296                           Cx[q] = \mbox{\hyperlink{abip__direct_8m_a6f38c508d6eaa93690533c1e2af0443f}{Ax}}[p];}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00297}00297                    \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00298}00298             \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00299}00299       \}}
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00300}00300             }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00301}00301       \textcolor{keywordflow}{return} (cs\_done(C, w, \mbox{\hyperlink{amd__global_8c_adae2a4e360bd77801ffccfc6288f97c5}{ABIP\_NULL}}, 1));             }
\DoxyCodeLine{\Hypertarget{cs_8c_source_l00302}00302 \}}

\end{DoxyCode}
